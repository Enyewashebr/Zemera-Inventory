<section class="card">
  <h2>Create Branch Manager</h2>

  <form (ngSubmit)="save()">
    <label>
      Full Name
      <input [(ngModel)]="user.fullName" name="fullName" required />
    </label>

    <label>
      Username
      <input [(ngModel)]="user.username" name="username" required />
    </label>

    <label>
      Password
      <input type="password" [(ngModel)]="user.password" name="password" required />
    </label>

    <label>
      Email
      <input type="email" [(ngModel)]="user.email" name="email" required />
    </label>

    <label>
      Phone
      <input [(ngModel)]="user.phone" name="phone" />
    </label>

    <label>
      Role
      <select [(ngModel)]="user.role" name="role" required>
        <option value="BRANCH_MANAGER">Branch Manager</option>
        <option value="SUPER_MANAGER">Super Manager</option>
      </select>
    </label>

    <label>
      Branch
      <select [(ngModel)]="user.branchId" name="branchId" required>
        <option [ngValue]="0" disabled>Select branch</option>
        <option *ngFor="let b of branches" [ngValue]="b.id">{{ b.name }}</option>
      </select>
    </label>

    <button type="submit" [disabled]="loading">{{ loading ? 'Saving...' : 'Create User' }}</button>
    <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
  </form>
</section>
